---
title: Jekyll Toolbox
---

This page contains a suite of techniques for enhancing web sites stored on GitHub. GitHub uses [Jekyll](https://jekyllrb.com) to take a set of documents written in [markdown](https://en.wikipedia.org/wiki/Markdown) and publish them as a full blown web site. What follows are several tricks, techniques and patterns for enhancing these Jekyll web sites with features that make the web sites more useful. For example, adding a table of contents or injecting a page header.

## Front Matter

Each markdown document in your site should contain a small section at the top that is referred to as *front matter*. This section contains a series of tags and keywords that tell Jekyll a few things about the final web page. The most common and important tag is the `title` tag. Jekyll uses this to set the HTML page title for each document.

Front matter must occur at the very top of the markdown document. It begins and ends with three hyphens, on their own lines in the file. Inside the front matter is a series of keywords, followed by a colon, a space and then the value for the item. Note that the keyword, in this case `title`, **is case sensitive**! So setting the page title would look like: 

```
---
title: This Is My Page Title
---

Page content goes below....
```

Front matter title (i.e. *This is My Page Title* in the example above) is used in two ways:

1. It is inserted at the top of every page, right under the header banner. i.e. You don't need to start every page with a title because it is done for you.
2. It is used as the link text in the site table of contents (see next section).

## Site Table of Contents

We have written some JavaScript that automatically builds and displays a site table of contents (ToC) on the left of each page. This ToC is generated by scraping the front matter (see previous section) `title` from each web page in a site. These titles are organized by the names of folders in which the pages are stored and displayed as a hierarchical set of collapsible links. Note that underscores in folder names are replaced with spaces. Also folder names are case sensitive.

## Page Sorting

By default, pages at a particular level of the table of contents are sorted alphabetically. However, you can sort pages by adding a `weight` front matter tag that specifies the order in which pages are added to the table of contents. It looks like this:

```
---
title: My Page Title
weight: 1
---
```

The weight tag is **case sensitive** and the value should be a positive integer. The code that creates the table of contents attempts a simple sort all pages at a specific level using this integer. For this to work **all pages at a specific level must have a weight value** (or the sorting resorts to the alphabetical default). Technically, it doesn't matter what the weight values represent or where they start at; they can start at zero or one or any other positive integer. Typically I start the weights at 1, but if there's a page that I want to *sink* to the bottom I will weight it with a value of 99.

Note that page sorting only works for documents. Obviously there's no way to associate a weight with a directory.

## Useful Links

The useful links section comprises an unordered list of bullets with hyperlinks to helpful external web sites. This list is hard coded into the file `src\_includes\sidenav.html`.

## Footer

The footer displayed on every page is stored in the file `src\_includes\footer.html`.

## Framework

We have implemented a *framework* called [Foundation](http://foundation.zurb.com/) on our GitHub Pages web sites that handles making the site *responsive*. This is the technical term for making the site look good on any device. Here's a [cheat sheet](https://sudheerdev.github.io/Foundation5CheatSheet/) of Foundation CSS classes that you use when styling your site. (FYI Foundation is an alternative to the popular [BootStrap](http://getbootstrap.com/))

## CSS

Short answer first... If you want to override the style of elements you can add custom CSS to the file at `assets\css\custom.css`. A typical way to do this is to first display the page in question. Then in Google Chrome, right click on an element and choose `Inspect`. Click on the piece of content that you want to style and Chrome will show the corresponding HTML in the bottom half of the screen. You should be able to gleam the class or ID of the element in question and style it accordingly in the custom.css file.

OK... don't do any of that! Styling individual elements is tedious and error prone. For example, if you want to change the color of links throughout a site you might have to create a dozen custom CSS items. You'll quickly create a rats nest of custom CSS that is hard to maintain.

These sites actually build CSS using a completely separate scripting language called [SASS](http://sass-lang.com/). SASS allows you to write more advanced CSS rules and then, from this code, generate the traditional CSS file. Essentially you write a powerful styling script then a SASS software engine downgrades it to dumb, traditional CSS that web sites use. It does some other tricks too, such as minify the CSS by removing unnecessary whitespace to make it faster on client browser.

In summary, if you want to overhaul the style of one of these web sites, you need to know SASS...

## Banner Image

Store a banner image for your site in the `assets\images` folder of your site. Then refer to it in the `src\_layouts\default.html` file (around line 23). Here's the BRAT example that allows the banner image to link back to the home page for the site:

```
  <header>
    <!-- <div id="topbarnav" class="row"></div> -->
    <div class="text-center callout large">
      <a href="{{ site.url }}"><img src="/assets/Images/BRAT_Banner_Web.png" alt="BRAT"></a>
    </div>
  </header>
```

## YouTube Videos

The easiest way to embed YouTube videos in Jekyll markdown web sites is to use the `IFRAME` tag:

1. Navigate to the YouTube video in question
2. Click on the `Share` button underneath the video.
3. Click on the `Embed Button`.
4. Copy the text provide and paste it into your markdown page. Typically you can delete the wrapping `div` tag and just keep the `iframe` tag.

## Running Jekyll Locally

It's always a good idea to verify changes locally before pushing them to GitHub. This avoids potentially breaking the site, or having to a push simply to visualize what your work (only to realize a minor typo and then stage-commit-push a second time). To do this you need to run Jekyll locally on your computer and then point you browser to your localhost. Unfortunately Jekyll is coded in Ruby which can be tricky to install on Windows. The good news is that Windows recently made it incredibly easy to install native Unbuntu (Linux) as a Windows app. This opens up all kinds of neat tricks, running Jekyll being just one of them. 

The two main steps are:

1. [Install Linux subsystem on Windows](https://msdn.microsoft.com/en-us/commandline/wsl/install_guide)
1. [Install Ruby and Jekyll](https://jekyllrb.com/docs/windows/)

If this all goes well, you can now run a local copy of Jekyll by doing the following:

1. Open a DOS command shell
1. Navigate to the folder at the root of your site that contains index.md
1. Type `bash` to launch Linux
1. type `jekyll serve` to start Jekyll

**Note** For some weird reason, on my system I don't seem to need to perform step 3 above. I don't need to enter Linux. I can simply type `jekyll serve` at the *Windows prompt* and it all works!

What happens next is that the Jekyll software processes all your markdown files and builds the HTML site in a folder called `_site`. Jekyll then becomes a lightweight web server for you to access the site. Read the text in the DOS window to determine what address to use. Be sure to include the port number in the URL which is the number after the colon in the url. Typically the port is 4000.

![jekyll serve](/assets/images/jekyll_serve.png)
